const chute = document.getElementById("letter-chute");
const currentWord = document.getElementById("current-word");
const scoreDisplay = document.getElementById("score-value");
const livesDisplay = document.getElementById("lives-value");
const startBtn = document.getElementById("start-btn");

let score = 0;
let lives = 3;
let targetWord = "BINGO";
let collected = "";

function dropLetter() {
  const letter = document.createElement("div");
  letter.className = "letter";
  letter.textContent = randomLetter();
  letter.style.top = "0px";
  chute.appendChild(letter);

  let position = 0;
  const fallInterval = setInterval(() => {
    position += 5;
    letter.style.top = position + "px";

    if (position >= 300) {
      clearInterval(fallInterval);
      chute.removeChild(letter);
      lives--;
      updateLives();
      checkGameOver();
    }
  }, 100);

  letter.addEventListener("click", () => {
    clearInterval(fallInterval);
    chute.removeChild(letter);
    collected += letter.textContent;
    currentWord.textContent = collected;
    checkWord();
  });
}

function randomLetter() {
  const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  return letters[Math.floor(Math.random() * letters.length)];
}

function checkWord() {
  if (collected === targetWord) {
    score += 10;
    updateScore();
    collected = "";
    currentWord.textContent = "";
  }
}

function updateScore() {
  scoreDisplay.textContent = score;
}

function updateLives() {
  livesDisplay.textContent = lives;
}

function checkGameOver() {
  if (lives <= 0) {
    alert("Game Over!");
    resetGame();
  }
}

function resetGame() {
  score = 0;
  lives = 3;
  collected = "";
  updateScore();
  updateLives();
  currentWord.textContent = "";
}

startBtn.addEventListener("click", () => {
  resetGame();
  setInterval(dropLetter, 2000); // Drop a letter every 2 seconds
});